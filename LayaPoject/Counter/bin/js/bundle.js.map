{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/script/core/view/common/CommonButton.ts","../../src/GameConfig.ts","../../src/script/config/NoficationConfig.ts","../../src/script/manager/EventManager.ts","../../src/script/utils/ArrUtil.ts","../../src/script/core/view/mediator/HomeMediator.ts","../../src/script/core/view/common/CommonCounter.ts","../../src/script/core/view/common/SingleCounterItem.ts","../../src/script/core/view/panel/HomeCity.ts","../../src/script/manager/GameLayerManager.ts","../../src/script/manager/SceneManager.ts","../../src/script/config/ProtobufConfig.ts","../../src/script/core/controller/Processor/Processor_100_1.ts","../../src/script/core/controller/ControllerPrepCommand.ts","../../src/script/core/model/ResourceProxyBase.ts","../../src/script/core/model/vo/GameVO.ts","../../src/script/core/model/proxy/GameProxy.ts","../../src/script/core/model/proxy/TemplateProxy.ts","../../src/script/core/controller/ModelPrepCommand.ts","../../src/script/core/view/PopUpManager.ts","../../src/script/core/view/BaseMediator.ts","../../src/script/core/view/panel/ConfirmPanel.ts","../../src/script/core/view/mediator/ConfirmMediator.ts","../../src/script/core/view/panel/PlayerGuideView.ts","../../src/script/core/view/mediator/PlayerGuideMediator.ts","../../src/script/core/controller/ViewPrepCommand.ts","../../src/script/core/controller/StartupCommand.ts","../../src/script/core/AppFacade.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.common {\n    export class CommonButtonUI extends View {\n\t\tpublic img_bg:Laya.Image;\n\t\tpublic img_normal:Laya.Image;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":300,\"height\":200},\"compId\":2,\"child\":[{\"type\":\"Image\",\"props\":{\"var\":\"img_bg\",\"centerY\":0,\"centerX\":0},\"compId\":3},{\"type\":\"Image\",\"props\":{\"var\":\"img_normal\",\"centerY\":0,\"centerX\":0},\"compId\":6}],\"loadList\":[],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(CommonButtonUI.uiView);\n        }\n    }\n    REG(\"ui.common.CommonButtonUI\",CommonButtonUI);\n    export class CommonCounterUI extends View {\n\t\tpublic img_bg:Laya.Sprite;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":72,\"height\":48},\"compId\":2,\"child\":[{\"type\":\"Sprite\",\"props\":{\"y\":0,\"x\":0,\"width\":72,\"var\":\"img_bg\",\"height\":48},\"compId\":3}],\"loadList\":[],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(CommonCounterUI.uiView);\n        }\n    }\n    REG(\"ui.common.CommonCounterUI\",CommonCounterUI);\n    export class SingleCounterItemUI extends View {\n\t\tpublic img_top:Laya.Image;\n\t\tpublic label_num:Laya.Label;\n\t\tpublic btn_unit:any;\n\t\tpublic sp_groung:Laya.Sprite;\n\t\tpublic box_zhu:Laya.Box;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":148,\"height\":895},\"compId\":2,\"child\":[{\"type\":\"Box\",\"props\":{\"width\":148,\"top\":0,\"height\":108,\"centerX\":0},\"compId\":14,\"child\":[{\"type\":\"Image\",\"props\":{\"var\":\"img_top\",\"centerY\":0,\"centerX\":0},\"compId\":3},{\"type\":\"Label\",\"props\":{\"var\":\"label_num\",\"fontSize\":80,\"font\":\"Arial\",\"color\":\"#ffffff\",\"centerY\":6,\"centerX\":0},\"compId\":5}]},{\"type\":\"CommonButton\",\"props\":{\"width\":134,\"var\":\"btn_unit\",\"runtime\":\"script/core/view/common/CommonButton.ts\",\"height\":98,\"centerX\":0,\"bottom\":0},\"compId\":4},{\"type\":\"Sprite\",\"props\":{\"y\":756,\"x\":0,\"width\":148,\"var\":\"sp_groung\",\"height\":2,\"alpha\":0},\"compId\":7,\"child\":[{\"type\":\"Script\",\"props\":{\"type\":\"static\",\"runtime\":\"Laya.RigidBody\"},\"compId\":8},{\"type\":\"Script\",\"props\":{\"y\":0,\"x\":0,\"width\":148,\"label\":\"ground\",\"height\":2,\"runtime\":\"Laya.BoxCollider\"},\"compId\":9}]},{\"type\":\"Box\",\"props\":{\"width\":72,\"var\":\"box_zhu\",\"height\":546,\"centerX\":0,\"bottom\":139},\"compId\":6}],\"loadList\":[],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(SingleCounterItemUI.uiView);\n        }\n    }\n    REG(\"ui.common.SingleCounterItemUI\",SingleCounterItemUI);\n}\nexport module ui.main {\n    export class ConfirmViewUI extends View {\n\t\tpublic btn_cancle:any;\n\t\tpublic btn_yes:any;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":576,\"height\":284},\"compId\":2,\"child\":[{\"type\":\"Sprite\",\"props\":{\"texture\":\"dialog/dialogbg.png\"},\"compId\":3},{\"type\":\"Label\",\"props\":{\"top\":88,\"text\":\"确定重置当前画板吗？\",\"fontSize\":34,\"font\":\"FZLTCHJW\",\"color\":\"#3a6283\",\"centerX\":0},\"compId\":4},{\"type\":\"CommonButton\",\"props\":{\"width\":220,\"var\":\"btn_cancle\",\"top\":172,\"runtime\":\"script/core/view/common/CommonButton.ts\",\"left\":52,\"height\":80},\"compId\":5},{\"type\":\"CommonButton\",\"props\":{\"width\":220,\"var\":\"btn_yes\",\"top\":172,\"runtime\":\"script/core/view/common/CommonButton.ts\",\"right\":52,\"height\":80},\"compId\":6}],\"loadList\":[],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(ConfirmViewUI.uiView);\n        }\n    }\n    REG(\"ui.main.ConfirmViewUI\",ConfirmViewUI);\n    export class GameViewSceneUI extends Scene {\n\t\tpublic panel_content:Laya.Panel;\n\t\tpublic btn_recall:any;\n\t\tpublic btn_reset:any;\n\t\tpublic btn_guide:any;\n        public static  uiView:any ={\"type\":\"Scene\",\"props\":{\"width\":1920,\"positionVariance_0\":100,\"name\":\"GameViewScene\",\"maxPartices\":100,\"height\":1080},\"compId\":1,\"child\":[{\"type\":\"Box\",\"props\":{\"zOrder\":1,\"y\":0,\"x\":0,\"width\":1920,\"height\":1080,\"cacheAs\":\"bitmap\"},\"compId\":38,\"child\":[{\"type\":\"Sprite\",\"props\":{\"y\":0,\"x\":0,\"texture\":\"common/common_bg1.png\"},\"compId\":34},{\"type\":\"Sprite\",\"props\":{\"y\":75,\"x\":0,\"texture\":\"common/common_bg2.png\"},\"compId\":35},{\"type\":\"Sprite\",\"props\":{\"y\":293,\"x\":153,\"texture\":\"common/common_bg3.png\"},\"compId\":36}]},{\"type\":\"Panel\",\"props\":{\"zOrder\":2,\"width\":1920,\"var\":\"panel_content\",\"height\":1080,\"centerY\":0,\"centerX\":0},\"compId\":29},{\"type\":\"Image\",\"props\":{\"zOrder\":3,\"y\":625,\"x\":1749,\"top\":625,\"skin\":\"guide/guide_bg.png\",\"right\":111},\"compId\":40},{\"type\":\"CommonButton\",\"props\":{\"zOrder\":4,\"width\":226,\"var\":\"btn_recall\",\"top\":649,\"runtime\":\"script/core/view/common/CommonButton.ts\",\"right\":22,\"height\":114},\"compId\":31},{\"type\":\"CommonButton\",\"props\":{\"zOrder\":4,\"width\":226,\"var\":\"btn_reset\",\"top\":780,\"runtime\":\"script/core/view/common/CommonButton.ts\",\"right\":22,\"height\":114},\"compId\":32},{\"type\":\"CommonButton\",\"props\":{\"zOrder\":4,\"width\":140,\"var\":\"btn_guide\",\"top\":926,\"runtime\":\"script/core/view/common/CommonButton.ts\",\"right\":62,\"height\":54},\"compId\":41}],\"loadList\":[\"guide/guide_bg.png\"],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(GameViewSceneUI.uiView);\n        }\n    }\n    REG(\"ui.main.GameViewSceneUI\",GameViewSceneUI);\n    export class PlayGuideViewUI extends View {\n\t\tpublic panel_content:Laya.Panel;\n\t\tpublic img_bg:Laya.Sprite;\n\t\tpublic btn_close:Laya.Sprite;\n\t\tpublic box_gif:Laya.Sprite;\n\t\tpublic box_point:Laya.Sprite;\n\t\tpublic btn_left:Laya.Sprite;\n\t\tpublic btn_right:Laya.Sprite;\n        public static  uiView:any ={\"type\":\"View\",\"props\":{\"width\":1920,\"height\":1080},\"compId\":2,\"child\":[{\"type\":\"Sprite\",\"props\":{\"y\":0,\"x\":0,\"width\":1920,\"texture\":\"common/maskBg.png\",\"height\":1080,\"alpha\":0.5},\"compId\":20},{\"type\":\"Panel\",\"props\":{\"width\":892,\"var\":\"panel_content\",\"height\":552,\"centerY\":0,\"centerX\":0},\"compId\":7,\"child\":[{\"type\":\"Sprite\",\"props\":{\"y\":0,\"x\":0,\"width\":780,\"var\":\"img_bg\",\"texture\":\"common/guide_bg.png\",\"height\":552},\"compId\":14},{\"type\":\"Sprite\",\"props\":{\"y\":240,\"x\":820,\"var\":\"btn_close\",\"texture\":\"guideView/btn_close.png\"},\"compId\":15},{\"type\":\"Sprite\",\"props\":{\"y\":20,\"x\":15,\"var\":\"box_gif\"},\"compId\":16},{\"type\":\"Sprite\",\"props\":{\"y\":499,\"x\":28,\"var\":\"box_point\"},\"compId\":17},{\"type\":\"Sprite\",\"props\":{\"y\":471,\"x\":419,\"var\":\"btn_left\"},\"compId\":18},{\"type\":\"Sprite\",\"props\":{\"y\":471,\"x\":591,\"var\":\"btn_right\"},\"compId\":19}]}],\"loadList\":[\"guideView/btn_close.png\"],\"loadList3D\":[]};\n        constructor(){ super()}\n        createChildren():void {\n            super.createChildren();\n            this.createView(PlayGuideViewUI.uiView);\n        }\n    }\n    REG(\"ui.main.PlayGuideViewUI\",PlayGuideViewUI);\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\n\r\nexport default class CommonButton extends ui.common.CommonButtonUI {\r\n    private _sourceName: string = \"\";\r\n    private _sourceRoute: string = \"\";\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public initView(wN: number, hN: number, sourceName: string, route: string): void {\r\n        this.width = wN;\r\n        this.height = hN;\r\n        this._sourceName = sourceName;\r\n        this._sourceRoute = route;\r\n        this.img_normal.on(Laya.Event.MOUSE_DOWN, this, this.downImg);\r\n        this.img_normal.on(Laya.Event.MOUSE_UP, this, this.upImg);\r\n        this.img_normal.on(Laya.Event.MOUSE_OUT, this, this.upImg);\r\n    }\r\n\r\n    public set isHasBg(bool: boolean) {\r\n        if (this.isHasBg) {\r\n            this.img_bg.skin = this._sourceRoute + \"img_btnBg.png\";\r\n            this.img_bg.width = this.width;\r\n            this.img_bg.height = this.height;\r\n        }\r\n    }\r\n\r\n    public set status(bool: boolean) {\r\n        this.mouseEnabled = bool;\r\n        this.img_normal.mouseEnabled = bool;\r\n        if (bool) {\r\n            this.img_normal.skin = this._sourceRoute + this._sourceName + \"_normal.png\";\r\n        } else {\r\n            this.img_normal.skin = this._sourceRoute + this._sourceName + \"_disable.png\";\r\n        }\r\n    }\r\n\r\n    private downImg(evt: Laya.Event) {\r\n        this.img_normal.skin = this._sourceRoute + this._sourceName + \"_down.png\";\r\n    }\r\n\r\n    private upImg() {\r\n        this.img_normal.skin = this._sourceRoute + this._sourceName + \"_normal.png\";\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport CommonButton from \"./script/core/view/common/CommonButton\"\n/*\n* 游戏初始化配置;\n*/\nexport default class GameConfig{\n    static width:number=1920;\n    static height:number=1080;\n    static scaleMode:string=\"fixedwidth\";\n    static screenMode:string=\"horizontal\";\n    static alignV:string=\"middle\";\n    static alignH:string=\"center\";\n    static startScene:any=\"common/SingleCounterItem.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=false;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"script/core/view/common/CommonButton.ts\",CommonButton);\n    }\n}\nGameConfig.init();","/**\r\n * 消息队列配置信息\r\n */\r\nexport class NoficationConfig {\r\n\r\n    public constructor() {\r\n    }\r\n\r\n    //打开主页面\r\n    public static OPEN_HOME: string = \"SceneNotify_OPEN_HOME\";\r\n\r\n    //关闭主页面\r\n    public static CLOSE_HOME: string = \"SceneNotify_CLOSE_HOME\";\r\n\r\n    // 打开新手引导UI\r\n    public static OPEN_GUIDE: string = \"MainNotify_OPEN_GUIDE\";\r\n\r\n    // 关闭新手引导UI\r\n    public static CLOSE_GUIDE: string = \"MainNotify_CLOSE_GUIDE\";\r\n\r\n    //打开确认面板\r\n    public static OPEN_CONFIRM: string = \"MainNotify_OPEN_CONFIRM\";\r\n\r\n    //关闭确认面板\r\n    public static CLOSE_CONFIRM: string = \"MainNotify_CLOSE_CONFIRM\";\r\n}","export class EventManager {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public static eventDispatcher = new Laya.EventDispatcher();\r\n    public static Emit = function (InName, agv) {\r\n        //派发事件\r\n        EventManager.eventDispatcher.event(InName, (!agv)?InName:agv);\r\n    }\r\n\r\n    public static AddNotice = function (InName, caller, listener, arg) {\r\n        //监听事件\r\n        EventManager.eventDispatcher.on(InName, caller, listener, (arg == null) ? null : ([arg]));\r\n    }\r\n}","export class ArrUtil {\r\n\r\n    public static deepClone(obj):any {\r\n        let objClone = Array.isArray(obj) ? [] : {};\r\n        if (obj && typeof obj === \"object\") {\r\n            for (let key in obj) {\r\n                if (obj.hasOwnProperty(key)) {\r\n                    //判断ojb子元素是否为对象，如果是，递归复制\r\n                    if (obj[key] && typeof obj[key] === \"object\") {\r\n                        objClone[key] = ArrUtil.deepClone(obj[key]);\r\n                    } else {\r\n                        //如果不是，简单复制\r\n                        objClone[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        return objClone;\r\n    }\r\n}","import { ArrUtil } from \"../../../utils/ArrUtil\";\r\n\r\nexport default class HomeMediator {\r\n\r\n    private static _instance: HomeMediator = null;\r\n\r\n    /**  全局数据 */\r\n    private allCounterData: Counter[] = [];\r\n    /** 存储上一步操作的数据 */\r\n    private preCounterData: Counter[][] = [];\r\n\r\n    private startIndex: number = 0;\r\n\r\n    private isCanTouch: boolean = true;\r\n\r\n    public static getInstance(): HomeMediator {\r\n        if (!this._instance) {\r\n            this._instance = new HomeMediator();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    private constructor() {\r\n    }\r\n\r\n    initViewData(): void {\r\n        var allData: any = Laya.loader.getRes(\"res/data/initData.json\");\r\n        let dataArr: Array<any> = allData.gameData;\r\n        for (let i = 0; i < dataArr.length; i++) {\r\n            let counter: Counter = Laya.Pool.getItemByClass(\"Counter\", Counter);\r\n            counter.counterId = dataArr[i].counterId;\r\n            counter.counterStr = dataArr[i].counterStr;\r\n            counter.counterNum = dataArr[i].counterNum;\r\n            counter.counterSkin = dataArr[i].counterSkin;\r\n            counter.sourceStr = dataArr[i].sourceStr;\r\n            counter.posX = dataArr[i].posX;\r\n            counter.posY = dataArr[i].posY;\r\n            counter.canTouch = true;\r\n            counter.curStatus = 0;\r\n            this.allCounterData.push(counter);\r\n        }\r\n        this.startIndex = this.allCounterData.length;\r\n        this.preCounterData = [];\r\n        this.isCanTouch = true;\r\n    }\r\n\r\n    /** 判断当前点击队列前边的是否可进位 */\r\n    public setTouEnable(curId: number): boolean {\r\n        let canTouch: boolean = false;\r\n        for (let i = 0; i < curId; i++) {\r\n            if (this.allCounterData[i].counterNum < 9) {\r\n                canTouch = true;\r\n            }\r\n        }\r\n        return canTouch;\r\n    }\r\n\r\n    /** 重置当前列表的状态 */\r\n    private resetListStatus(): void {\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            this.allCounterData[i].curStatus = 0;\r\n        }\r\n    }\r\n\r\n    /** 获取所有当前算珠数据 */\r\n    public getAllCounterData(): Array<Counter> {\r\n        return this.allCounterData;\r\n    }\r\n\r\n    /** 获取当前算珠起始队列 */\r\n    public getCurStartIndex(): number {\r\n        return this.startIndex;\r\n    }\r\n\r\n    /** 获取进位算珠起点队列 */\r\n    public getCarrayIndex(): number {\r\n        let startIndex: number = -1;\r\n        for (let i = this.allCounterData.length - 1; i > -1; i--) {\r\n            if (this.allCounterData[i].curStatus == 3) {\r\n                startIndex = this.allCounterData[i].counterId;\r\n                return startIndex;\r\n            }\r\n        }\r\n        return startIndex;\r\n    }\r\n\r\n    /** 添加算珠 */\r\n    public addCounterData(data: Counter): void {\r\n        this.savePreStep();\r\n        this.resetListStatus();\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterId == data.counterId) {\r\n                if (this.allCounterData[i].counterNum + 1 > 9) {\r\n                    this.allCounterData[i].counterNum = 0;\r\n                    this.allCounterData[i].curStatus = 3;\r\n                    for (let j = i - 1; j > -1; j--) {\r\n                        if (this.allCounterData[j].counterNum + 1 > 9) {\r\n                            this.allCounterData[j].counterNum = 0;\r\n                            this.allCounterData[j].curStatus = 3;\r\n                        } else {\r\n                            this.allCounterData[j].counterNum += 1;\r\n                            this.allCounterData[j].curStatus = 1;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.allCounterData[i].counterNum += 1;\r\n                    this.allCounterData[i].curStatus = 1;\r\n                }\r\n            }\r\n        }\r\n        this.changeStartIndex();\r\n        this.changeTouch();\r\n    }\r\n\r\n    /** 删除算珠 */\r\n    public deletCounterData(data: Counter, num: number): void {\r\n        this.savePreStep();\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterId == data.counterId) {\r\n                this.allCounterData[i].counterNum -= num;\r\n                this.allCounterData[i].curStatus = 2;\r\n            } else {\r\n                this.allCounterData[i].curStatus = 0;\r\n            }\r\n        }\r\n        this.changeStartIndex();\r\n        this.changeTouch();\r\n    }\r\n\r\n    /** 更新最新的算珠起始队列 */\r\n    private changeStartIndex(): void {\r\n        this.startIndex = this.allCounterData.length;\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterNum > 0) {\r\n                this.startIndex = this.allCounterData[i].counterId;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 判断每一列按钮是否可以点击 */\r\n    private changeTouch(): void {\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            let bool: boolean = this.setTouEnable(this.allCounterData[i].counterId);\r\n            if (bool == false && this.allCounterData[i].counterNum > 8) {\r\n                this.allCounterData[i].canTouch = false;\r\n            } else {\r\n                this.allCounterData[i].canTouch = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 存储上一步数据 */\r\n    private savePreStep(): void {\r\n        let newPreArr: Counter[] = ArrUtil.deepClone(this.allCounterData);\r\n        if (this.preCounterData.length > 9) {\r\n            this.preCounterData.splice(0, 1);\r\n        }\r\n        this.preCounterData.push(newPreArr);\r\n    }\r\n\r\n    /** 回退一步,数据回滚 */\r\n    public recallStep(): void {\r\n        let lastStep: Counter[] = this.preCounterData[this.preCounterData.length - 1];\r\n        if (!lastStep || lastStep.length < 1) {\r\n            return;\r\n        }\r\n        \r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterNum > lastStep[i].counterNum) {\r\n                this.allCounterData[i].curStatus = 2;\r\n                \r\n            } else if (this.allCounterData[i].counterNum < lastStep[i].counterNum) {\r\n                this.allCounterData[i].curStatus = 1;\r\n            } else {\r\n                this.allCounterData[i].curStatus = 0;\r\n            }\r\n            this.allCounterData[i].counterNum = lastStep[i].counterNum;\r\n            this.allCounterData[i].canTouch = lastStep[i].canTouch;\r\n        }\r\n        this.preCounterData.splice(this.preCounterData.length - 1, 1);\r\n        this.changeStartIndex();\r\n    }\r\n\r\n    /** 重置游戏 */\r\n    public resetGame(): void {\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterNum > 0) {\r\n                this.allCounterData[i].curStatus = 2;\r\n            }\r\n            this.allCounterData[i].counterNum = 0;\r\n            this.allCounterData[i].canTouch = true;\r\n        }\r\n        this.startIndex = this.allCounterData.length;\r\n        this.preCounterData = [];\r\n        this.isCanTouch = true;\r\n    }\r\n\r\n    /** 获取撤回状态值 */\r\n    public getRecallBtnStatus(): boolean {\r\n        if (this.preCounterData.length > 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public getResetBtnStatus(): boolean {\r\n        let bool: boolean = false;\r\n        for (let i = 0; i < this.allCounterData.length; i++) {\r\n            if (this.allCounterData[i].counterNum > 0) {\r\n                bool = true;\r\n            }\r\n        }\r\n        return bool;\r\n    }\r\n\r\n    public setTouchStatus(bool, time: number): void {\r\n        if (bool) {\r\n            Laya.timer.once(time, this, () => {\r\n                this.isCanTouch = true;\r\n            }, null, false);\r\n        } else {\r\n            this.isCanTouch = bool;\r\n        }\r\n    }\r\n\r\n    public getTouchStatus(): boolean {\r\n        return this.isCanTouch;\r\n    }\r\n}\r\n\r\nexport class Counter {\r\n    /** 算珠队列ID */\r\n    public counterId: number = 0;\r\n    /** 算珠队列名称 */\r\n    public counterStr: string = \"\";\r\n    /** 算珠队列数量 */\r\n    public counterNum: number = 0;\r\n    /** 算珠类型资源名称 */\r\n    public counterSkin: string = \"\";\r\n    /** 算珠队列按钮资源 */\r\n    public sourceStr: string = \"\";\r\n    /** 算珠队列按钮位置 */\r\n    public posX: number = 0;\r\n    public posY: number = 0;\r\n    /** 算珠队列按钮是否可以点击 */\r\n    public canTouch: boolean = true;\r\n    /** 当前算珠状态\r\n     * @param 0:正常状态，保持不变\r\n     * @param 1:添加算珠状态，向下掉落一个算珠\r\n     * @param 2:删除算珠状态，计算需要删除几个\r\n     * @param 3:进位状态， 掉落一个，闪烁后消失，并归0\r\n     */\r\n    public curStatus: number = 0;\r\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\n\r\nexport default class CommonCounter extends ui.common.CommonCounterUI {\r\n\r\n    /** 算珠类型【普通算珠 or 补位算珠】 */\r\n    private _counterType: number = 0;\r\n    /** 算珠资源类型 */\r\n    private _sourceType: string = \"zhu1\";\r\n    /** 初始目标位置 */\r\n    private _tagPos: number = 0;\r\n    private _parenBox: Laya.Box = null;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public initViewData(type: number, skinStr: string): void {\r\n        this._counterType = type;\r\n        this._sourceType = skinStr;\r\n        this._parenBox = this.parent as Laya.Box;\r\n        this.img_bg.loadImage(\"counter/\" + this._sourceType + \"_normal.png\");\r\n        if (this._parenBox) {\r\n            this._tagPos = this._parenBox.height - (this._parenBox.numChildren * 38);\r\n        }\r\n        this.startTween(true);\r\n    }\r\n\r\n    /** 组件被启用后执行 */\r\n    onEnable() {\r\n        //设置初始速度\r\n        this.size(72, 48);\r\n        this.scale(0.8, 0.8);\r\n        this.centerX = 2.5;\r\n        this.y = 0;\r\n        // this.img_bg.on(Laya.Event.MOUSE_DOWN, this, this.downImg);\r\n        // this.img_bg.on(Laya.Event.MOUSE_UP, this, this.upImg);\r\n    }\r\n\r\n    private curTween: Laya.Tween = null;\r\n    public startTween(isFirst: boolean): void {\r\n        if (isFirst) {\r\n            this.curTween = Laya.Tween.to(this, { y: this._tagPos }, 150, Laya.Ease.sineIn, Laya.Handler.create(this, this.toTagPos));\r\n        } else {\r\n            this._tagPos = -20;\r\n            this.curTween = Laya.Tween.to(this, { y: this._tagPos, update: new Laya.Handler(this, this.onupdate) }, 300);\r\n        }\r\n    }\r\n\r\n    private onupdate() {\r\n        if (this.y < 10) {\r\n            this.scale(0.7, 0.7);\r\n            if (this.y <= -20) {\r\n                if (this.curTween) {\r\n                    Laya.Tween.clear(this.curTween);\r\n                }\r\n                this.removeSelf();\r\n            }\r\n        }\r\n    }\r\n\r\n    private toTagPos() {\r\n        if (this._counterType > 0) {\r\n            //发送事件进入下一个补位操作\r\n            if (this.parent.parent) {\r\n                (this.parent.parent as any).carryOut();\r\n            }\r\n        }\r\n    }\r\n\r\n    onDisable() {\r\n        this.img_bg.off(Laya.Event.MOUSE_DOWN, this, this.downImg);\r\n        this.img_bg.off(Laya.Event.MOUSE_UP, this, this.upImg);\r\n        if (this.curTween) {\r\n            Laya.Tween.clear(this.curTween);\r\n        }\r\n        Laya.Pool.recover(\"Counter\", this);\r\n    }\r\n\r\n    /** 鼠标按下时执行 */\r\n    downImg() {\r\n        this.img_bg.loadImage(\"counter/\" + this._sourceType + \"_down.png\");\r\n    }\r\n\r\n    /** 鼠标抬起时执行 */\r\n    upImg() {\r\n        this.img_bg.loadImage(\"counter/\" + this._sourceType + \"_normal.png\");\r\n    }\r\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\nimport { EventManager } from \"../../../manager/EventManager\";\r\nimport HomeMediator, { Counter } from \"../mediator/HomeMediator\";\r\nimport CommonButton from \"./CommonButton\";\r\nimport CommonCounter from \"./CommonCounter\";\r\n\r\nexport class SingleCounterItem extends ui.common.SingleCounterItemUI {\r\n\r\n    private _counterData: Counter = null;\r\n    private delteNum: number = 0;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public setLabelShow(showNum: number): void {\r\n        this.label_num.visible = (showNum < 0) ? false : true;\r\n        if (showNum > -1) {\r\n            this.label_num.text = showNum + \"\";\r\n        }\r\n    }\r\n\r\n    private setBtnTouch(): void {\r\n        (this.btn_unit as CommonButton).mouseEnabled = this._counterData.canTouch;\r\n        (this.btn_unit as CommonButton).status = this._counterData.canTouch;\r\n    }\r\n\r\n    private changeHasCounter(): void {\r\n        if (this._counterData.curStatus > 0) {\r\n            switch (this._counterData.curStatus) {\r\n                case 1://添加\r\n                    let addNum: number = this._counterData.counterNum - this.box_zhu.numChildren;\r\n                    let bool: boolean = HomeMediator.getInstance().getTouchStatus();\r\n                    if (bool == false) {\r\n                        HomeMediator.getInstance().setTouchStatus(true, 200);\r\n                    }\r\n                    if (addNum < 2) {\r\n                        this.addCounter(0);\r\n                    } else {\r\n                        for (let i = 0; i < addNum; i++) {\r\n                            Laya.timer.once(i * 40, this, this.addCounter, [0], false);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 2://删除\r\n                    let deleteNum: number = this.box_zhu.numChildren - this._counterData.counterNum;\r\n                    this.deleteCounter(deleteNum);\r\n                    break;\r\n                case 3://进位\r\n                    this.addCounter(1);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public setData(data: Counter, startIndex: number): void {\r\n        this._counterData = data;\r\n        this.x = data.posX;\r\n        this.y = data.posY;\r\n        this.img_top.skin = \"counter/\" + this._counterData.counterSkin + \"_bg.png\";\r\n        (this.btn_unit as CommonButton).initView(134, 98, this._counterData.sourceStr, \"button/\");\r\n        this.setLabelShow(this._counterData.counterNum);\r\n        this.setBtnTouch();\r\n        this.changeHasCounter();\r\n        (this.btn_unit as CommonButton).on(Laya.Event.CLICK, this, this.addAllCounterData);\r\n    }\r\n\r\n    public changeItem(data: Counter, startIndex: number): void {\r\n        this._counterData = data;\r\n        this.setLabelShow(this._counterData.counterNum);\r\n        this.setBtnTouch();\r\n        this.changeHasCounter();\r\n    }\r\n\r\n    public resetItem(data: Counter, startIndex: number): void {\r\n        this._counterData = data;\r\n        this.setLabelShow(this._counterData.counterNum);\r\n        this.setBtnTouch();\r\n        // this.changeHasCounter();\r\n        this.box_zhu.removeChildren();\r\n    }\r\n\r\n    private addAllCounterData(evt: Laya.Event): void {\r\n        let isCanTouch: boolean = HomeMediator.getInstance().getTouchStatus();\r\n        if (isCanTouch) {\r\n            HomeMediator.getInstance().setTouchStatus(false, 0);\r\n            HomeMediator.getInstance().addCounterData(this._counterData);\r\n            let carryIndex: number = HomeMediator.getInstance().getCarrayIndex();\r\n            if (carryIndex < 0) {\r\n                EventManager.Emit(\"HOMECITY_ADDCOUNTER\", null);\r\n            } else {\r\n                EventManager.Emit(\"HOMECITY_ADDNEXTCOUNTER\", null);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param delNum:从盒子里删除固定数量的算珠\r\n     * @type number\r\n     */\r\n    public deleteCounter(delNum: number): void {\r\n        let bool: boolean = HomeMediator.getInstance().getTouchStatus();\r\n        let startNum: number = 0;\r\n        let allTime: number = 0;\r\n        for (let i = this.box_zhu.numChildren - 1; i > -1; i--) {\r\n            if (startNum < delNum) {\r\n                let sp: CommonCounter = this.box_zhu.getChildAt(i) as CommonCounter;\r\n                if (sp) {\r\n                    allTime += (i * 20);\r\n                    sp.startTween(false);\r\n                    // Laya.timer.once(i * 20, this, this.startDelete, [sp], false);\r\n                }\r\n                startNum += 1;\r\n            }\r\n        }\r\n        if (bool == false) {\r\n            allTime += (delNum * 150);\r\n            HomeMediator.getInstance().setTouchStatus(true, allTime);\r\n        }\r\n    }\r\n\r\n    private startDelete(sp: CommonCounter): void {\r\n        sp.startTween(false);\r\n    }\r\n    /** \r\n     * @param addType:0:普通添加 ||  1:进位添加，需要掉落后的回调\r\n     */\r\n    public addCounter(addType: number): void {\r\n        let scriptCounter: CommonCounter = new CommonCounter();\r\n        this.box_zhu.addChild(scriptCounter);\r\n        var numChild: number = this.box_zhu.numChildren;\r\n        scriptCounter.name = \"counter\" + numChild;\r\n        scriptCounter.initViewData(addType, this._counterData.counterSkin);\r\n        scriptCounter.on(Laya.Event.MOUSE_DOWN, this, this.checkDownCounter);\r\n        scriptCounter.on(Laya.Event.MOUSE_UP, this, this.checkUpCounter);\r\n    }\r\n\r\n\r\n    public checkDownCounter(evt: Laya.Event) {\r\n        let status: boolean = HomeMediator.getInstance().getTouchStatus();\r\n        if (status) {\r\n            //不包含点击目标自身\r\n            let nameStr: string = evt.currentTarget.name;\r\n            let len: number = parseInt(nameStr.substr(nameStr.length - 1, 1));\r\n            this.delteNum = this.box_zhu.numChildren - (len - 1);\r\n            for (let i = this.box_zhu.numChildren - 1; i >= len - 1; i--) {\r\n                let counter: CommonCounter = this.box_zhu.getChildAt(i) as CommonCounter;\r\n                if (counter) {\r\n                    counter.downImg();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public checkUpCounter() {\r\n        let status: boolean = HomeMediator.getInstance().getTouchStatus();\r\n        if (status) {\r\n            HomeMediator.getInstance().setTouchStatus(false, 0);\r\n            for (let i = 0; i < this.box_zhu.numChildren; i++) {\r\n                let counter: CommonCounter = this.box_zhu.getChildAt(i) as CommonCounter;\r\n                if (counter) {\r\n                    counter.upImg();\r\n                }\r\n            }\r\n            HomeMediator.getInstance().deletCounterData(this._counterData, this.delteNum);\r\n            EventManager.Emit(\"HOMECITY_DELETECOUNTER\", null);\r\n        }\r\n    }\r\n\r\n    /** 进位消失 */\r\n    public carryOut(): void {\r\n        Laya.Tween.to(this.box_zhu, { alpha: 0 }, 300, null, Laya.Handler.create(this, this.carryOut1));\r\n    }\r\n\r\n    private carryOut1(): void {\r\n        Laya.Tween.to(this.box_zhu, { alpha: 1 }, 300, null, Laya.Handler.create(this, this.carryOut2));\r\n    }\r\n\r\n    private carryOut2(): void {\r\n        this.box_zhu.removeChildren();\r\n        EventManager.Emit(\"HOMECITY_ADDNEXTCOUNTER\", null);\r\n    }\r\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\nimport { NoficationConfig } from \"../../../config/NoficationConfig\";\r\nimport { EventManager } from \"../../../manager/EventManager\";\r\nimport { AppFacade } from \"../../AppFacade\";\r\nimport CommonButton from \"../common/CommonButton\";\r\nimport { SingleCounterItem } from \"../common/SingleCounterItem\";\r\nimport HomeMediator, { Counter } from \"../mediator/HomeMediator\";\r\n\r\nexport class HomeCity extends ui.main.GameViewSceneUI {\r\n\r\n    private eventArr: Array<string> = [\r\n        \"HOMECITY_ADDCOUNTER\",\r\n        \"HOMECITY_DELETECOUNTER\",\r\n        \"HOMECITY_ADDNEXTCOUNTER\",\r\n        \"HOMECITY_STARTRESET\"\r\n    ];\r\n\r\n    private carryIndex: number = -1;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.initEvent();\r\n        this.initView();\r\n    }\r\n\r\n    private initEvent(): void {\r\n        for (let i = 0; i < this.eventArr.length; i++) {\r\n            EventManager.AddNotice(this.eventArr[i], this, this.listenerCom, null);\r\n        }\r\n    }\r\n\r\n    public initView(): void {\r\n        HomeMediator.getInstance().initViewData();\r\n        let data: Counter[] = HomeMediator.getInstance().getAllCounterData();\r\n        let startIndex: number = HomeMediator.getInstance().getCurStartIndex();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let item: SingleCounterItem = Laya.Pool.getItemByClass(\"SingleCounterItem\", SingleCounterItem);\r\n            item.setData(data[i], startIndex);\r\n            this.panel_content.addChild(item);\r\n        }\r\n        this.initMainBtn();\r\n        this.resetBtnStatus();\r\n    }\r\n\r\n    private listenerCom(evtName: any) {\r\n        let data: Counter[] = HomeMediator.getInstance().getAllCounterData();\r\n        let startIndex: number = HomeMediator.getInstance().getCurStartIndex();\r\n        if (evtName == this.eventArr[0]) { //添加算珠\r\n            this.carryIndex = -1;\r\n            for (let i = this.panel_content.numChildren - 1; i > -1; i--) {\r\n                let item: SingleCounterItem = this.panel_content.getChildAt(i) as SingleCounterItem;\r\n                if (item) {\r\n                    item.changeItem(data[i], startIndex);\r\n                }\r\n            }\r\n        } else if (evtName == this.eventArr[1]) {//删除算珠\r\n            this.carryIndex = -1;\r\n            for (let i = this.panel_content.numChildren - 1; i > -1; i--) {\r\n                let item: SingleCounterItem = this.panel_content.getChildAt(i) as SingleCounterItem;\r\n                if (item) {\r\n                    item.changeItem(data[i], startIndex);\r\n                }\r\n            }\r\n        } else if (evtName == this.eventArr[2]) {//进位算珠\r\n            this.carryIndex = (this.carryIndex < 0) ? HomeMediator.getInstance().getCarrayIndex() : this.carryIndex;\r\n            let carryItem: SingleCounterItem = this.panel_content.getChildAt(this.carryIndex) as SingleCounterItem;\r\n            if (carryItem) {\r\n                carryItem.changeItem(data[this.carryIndex], startIndex);\r\n            }\r\n            this.carryIndex -= 1;\r\n        } else if (evtName == this.eventArr[3]) {\r\n            this.resetGame();\r\n        }\r\n        this.resetBtnStatus();\r\n    }\r\n\r\n    private resetGame(): void {\r\n        HomeMediator.getInstance().resetGame();\r\n        this.setTouchEnable(false);\r\n        let data: Counter[] = HomeMediator.getInstance().getAllCounterData();\r\n        let startIndex: number = HomeMediator.getInstance().getCurStartIndex();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let item: SingleCounterItem = this.panel_content.getChildAt(i) as SingleCounterItem;\r\n            if (item) {\r\n                item.resetItem(data[i], startIndex);\r\n            }\r\n        }\r\n    }\r\n\r\n    private recallGame(): void {\r\n        HomeMediator.getInstance().recallStep();\r\n        this.setTouchEnable(false);\r\n        let data: Counter[] = HomeMediator.getInstance().getAllCounterData();\r\n        let startIndex: number = HomeMediator.getInstance().getCurStartIndex();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let item: SingleCounterItem = this.panel_content.getChildAt(i) as SingleCounterItem;\r\n            if (item) {\r\n                item.changeItem(data[i], startIndex);\r\n            }\r\n        }\r\n    }\r\n\r\n    private openConfirm() {\r\n        AppFacade.getInstance().sendNotification(NoficationConfig.OPEN_CONFIRM);\r\n    }\r\n\r\n    private opneGuide() {\r\n        AppFacade.getInstance().sendNotification(NoficationConfig.OPEN_GUIDE);\r\n    }\r\n\r\n    private initMainBtn() {\r\n        (this.btn_recall as CommonButton).initView(226, 114, \"recall\", \"guide/\");\r\n        (this.btn_reset as CommonButton).initView(226, 114, \"reset\", \"guide/\");\r\n        (this.btn_guide as CommonButton).initView(140, 54, \"guide\", \"guide/\");\r\n        (this.btn_guide as CommonButton).status = true;\r\n        (this.btn_recall as CommonButton).on(Laya.Event.CLICK, this, this.recallGame);\r\n        (this.btn_reset as CommonButton).on(Laya.Event.CLICK, this, this.openConfirm);\r\n        (this.btn_guide as CommonButton).on(Laya.Event.CLICK, this, this.opneGuide);\r\n    }\r\n\r\n    private resetBtnStatus(): void {\r\n        let recallLen: boolean = HomeMediator.getInstance().getRecallBtnStatus();\r\n        let resetLen: boolean = HomeMediator.getInstance().getResetBtnStatus();\r\n        (this.btn_recall as CommonButton).mouseEnabled = recallLen;\r\n        (this.btn_reset as CommonButton).mouseEnabled = resetLen;\r\n        (this.btn_recall as CommonButton).status = recallLen;\r\n        (this.btn_reset as CommonButton).status = resetLen;\r\n    }\r\n\r\n    private setTouchEnable(bool: boolean) {\r\n        this.carryIndex = -1;\r\n        (this.btn_recall as CommonButton).mouseEnabled = false;\r\n        (this.btn_reset as CommonButton).mouseEnabled = false;\r\n        Laya.timer.once(300, this, () => {\r\n            this.resetBtnStatus();\r\n        });\r\n    }\r\n}","import GameConfig from \"../../GameConfig\";\r\n\r\n/**\r\n  * 游戏容器类\r\n  */\r\nexport class GameLayerManager extends Laya.View {\r\n    //背景图片\r\n    public gameBgImg: Laya.Image = new Laya.Image();\r\n    // 场景层 如 战场、主城、副本战场之类的\r\n    public sceneLayer: Laya.View = new Laya.View();\r\n    // 主UI层 如 底部功能栏\r\n    public mainLayer: Laya.View = new Laya.View();\r\n    // 弹窗层 如 设置、背包、装备之类的\r\n    public panelLayer: Laya.View = new Laya.View();\r\n    // 特效层 如 闪烁、飘字之类的\r\n    public effectLayer: Laya.View = new Laya.View();\r\n    // 通讯遮罩层 和服务器通讯UI\r\n    public maskLayer: Laya.View = new Laya.View();\r\n    // 加载遮罩层 场景切换的时候加载资源UI\r\n    public loadLayer: Laya.View = new Laya.View();\r\n\r\n    private static _instance: GameLayerManager;\r\n\r\n    //构造方法\r\n    public constructor() {\r\n        super();\r\n        this.init();\r\n    }\r\n\r\n    //游戏容器管理器单例\r\n    public static gameLayer(): GameLayerManager {\r\n        if (!this._instance)\r\n            this._instance = new GameLayerManager();\r\n        return this._instance;\r\n    }\r\n\r\n    //初始化场景类\r\n    public init(): void {\r\n        this.width = GameConfig.width;\r\n        this.height = GameConfig.height;\r\n        // this.addGameBg();\r\n        this.addChild(this.sceneLayer);\r\n        this.addChild(this.mainLayer);\r\n        this.addChild(this.panelLayer);\r\n        this.addChild(this.effectLayer);\r\n        this.addChild(this.maskLayer);\r\n        this.addChild(this.loadLayer);\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.changeStageSize);\r\n        this.changeStageSize();\r\n    }\r\n\r\n    private fitScale: number = 1;\r\n    private fitState: FIT_STATE = FIT_STATE.FIT_H;// 1 适配宽，2 适配高\r\n\r\n    private changeStageSize() {\r\n        this.stageAdapter();\r\n        this.stageResize();\r\n        this.changeBgSize();\r\n    }\r\n\r\n    private stageAdapter() {\r\n        let stageRate: number = Laya.stage.height / Laya.stage.width;\r\n        let designRate: number = GameConfig.height / GameConfig.width;\r\n        if (stageRate > designRate) { //舞台宽度小于舞台高度\r\n            this.fitState = FIT_STATE.FIT_W;\r\n        } else {\r\n            this.fitState = FIT_STATE.FIT_H;\r\n        }\r\n    }\r\n\r\n    private stageResize() {\r\n        if (this.fitState == FIT_STATE.FIT_W) {\r\n            this.fitScale = Laya.stage.width / GameConfig.width;\r\n        } else {\r\n            this.fitScale = Laya.stage.height / GameConfig.height;\r\n        }\r\n        this.scale(this.fitScale, this.fitScale);\r\n        this.centerX = 0;\r\n        this.centerY = 0;\r\n    }\r\n\r\n    private changeBgSize() {\r\n        this.gameBgImg.size(Laya.stage.width, Laya.stage.height);\r\n    }\r\n\r\n    addGameBg(): void {\r\n        this.gameBgImg = new Laya.Image();\r\n        this.gameBgImg.skin = \"common/common_gameBg.png\";\r\n        this.gameBgImg.width = Laya.stage.width;\r\n        this.gameBgImg.height = Laya.stage.height;\r\n        Laya.stage.addChildAt(this.gameBgImg, 0);\r\n    }\r\n}\r\n\r\nenum FIT_STATE {\r\n    FIT_NULL, FIT_W, FIT_H\r\n}\r\n\r\n","\r\n/**\r\n  * 场景管理类\r\n  * 所有的弹窗都需要在register注册事件\r\n  * 在execute添加消息处理面板打开关闭事件\r\n  */\r\n\r\nimport { NoficationConfig } from \"../config/NoficationConfig\";\r\nimport { HomeCity } from \"../core/view/panel/HomeCity\";\r\nimport { GameLayerManager } from \"./GameLayerManager\";\r\n\r\nexport class SceneManager extends puremvc.SimpleCommand implements puremvc.ICommand {\r\n\r\n    private homeCity: HomeCity;\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public static NAME: string = \"SceneManager\";\r\n\r\n    /**\r\n     * 注册消息\r\n     */\r\n    public register(): void {\r\n        this.facade.registerCommand(NoficationConfig.OPEN_HOME, SceneManager);//打开主页面\r\n        this.facade.registerCommand(NoficationConfig.CLOSE_HOME, SceneManager);//关闭主页面\r\n    }\r\n\r\n    public execute(notification: puremvc.INotification): void {\r\n        var data: any = notification.getBody();//携带数据\r\n        var panelCon = GameLayerManager.gameLayer().sceneLayer;\r\n        switch (notification.getName()) {\r\n            case NoficationConfig.OPEN_HOME: {\r\n                if (this.homeCity == null) {\r\n                    this.homeCity = new HomeCity();\r\n                    panelCon.addChild(this.homeCity);\r\n                }\r\n                break;\r\n            }\r\n            case NoficationConfig.CLOSE_HOME: {\r\n                if (this.homeCity != null) {\r\n                    panelCon.removeChild(this.homeCity);\r\n                    this.homeCity = null;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 协议名称配置文件\r\n */\r\nexport class ProtobufConfig {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public static TEMPLATE_USER_LOGIN: string = \"template_user_login\";\r\n}","import { ProtobufConfig } from \"../../../config/ProtobufConfig\";\r\n\r\n/**\r\n  * 服务器命令返回(注册监听服务器响应)\r\n  */\r\nexport class Processor_100_1 extends puremvc.SimpleCommand implements puremvc.ICommand {\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public static NAME: string = ProtobufConfig.TEMPLATE_USER_LOGIN;\r\n\r\n    /** 注册消息 */\r\n    public register(): void {\r\n        this.facade.registerCommand(ProtobufConfig.TEMPLATE_USER_LOGIN, Processor_100_1);\r\n    }\r\n\r\n    public execute(notification: puremvc.INotification): void {\r\n        var data: any = notification.getBody();//携带数据\r\n        switch (notification.getName()) {\r\n            case ProtobufConfig.TEMPLATE_USER_LOGIN:\r\n                // this.sendNotification(NoficationConfig.UPDATE_DATA,data);\r\n                break;\r\n\r\n            default:\r\n\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import { SceneManager } from \"../../manager/SceneManager\";\r\nimport { Processor_100_1 } from \"./Processor/Processor_100_1\";\r\n\r\n/**\r\n  * 注册controller\r\n  */\r\nexport class ControllerPrepCommand extends puremvc.SimpleCommand implements puremvc.ICommand {\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n  public execute(notification: puremvc.INotification): void {\r\n    (new SceneManager()).register();\r\n    //服务器返回command\r\n    (new Processor_100_1()).register();\r\n  }\r\n}","/**\r\n  * 数据读取基类\r\n  */\r\nexport class ResourceProxyBase extends puremvc.Proxy implements puremvc.IProxy {\r\n    private _dataMap: Array<any> = new Array();//存储excel数据\r\n    private _proxyName: string = \"\";//excel名称\r\n\r\n    public constructor(proxyName: string = \"\") {\r\n        super(proxyName);\r\n        this._proxyName = proxyName;\r\n    }\r\n\r\n    /**\r\n     * 开发状态：json可读\r\n     * 上线状态：加载bin文件，在这里解密【文件小，加密】 \r\n     * 是预加载json文件还是到时候使用到再加载\r\n     */\r\n    public getData(): JSON {\r\n        var jsonData: JSON = Laya.loader.getRes(\"res/data/initData.json\");\r\n        return jsonData;\r\n    }\r\n}\r\n","  /**\r\n    * 游戏数据存储vo\r\n    */\r\nexport class GameVO {\r\n    /**\r\n     * 框架名称\r\n    */\r\n    public gameName: string = \"Eger pro\";\r\n}\r\n","import { ResourceProxyBase } from \"../ResourceProxyBase\";\r\nimport { GameVO } from \"../vo/GameVO\";\r\n\r\n/**\r\n  * 游戏数据读取模板\r\n  * 不能直接操作vo数据，只能通过gameProxy操作\r\n  */\r\nexport class GameProxy extends ResourceProxyBase {\r\n    public static NAME: string = \"GameProxy\";//必须和excel导出文件一致\r\n    private vo: GameVO;\r\n\r\n    public constructor() {\r\n        super(GameProxy.NAME);\r\n        this.vo = new GameVO();\r\n    }\r\n\r\n    /**\r\n     * 获取游戏名称\r\n     */\r\n    public getGameName(): string {\r\n        if (!this.vo) {\r\n            this.vo = new GameVO();\r\n        }\r\n        return this.vo.gameName;\r\n    }\r\n\r\n    /**\r\n     * 设置游戏名称\r\n     */\r\n    public setGameName(name): void {\r\n        if (!this.vo) {\r\n            this.vo = new GameVO();\r\n        }\r\n        this.vo.gameName = name;\r\n    }\r\n}\r\n","import { ResourceProxyBase } from \"../ResourceProxyBase\";\r\n\r\n/**\r\n  * 数据读取模板\r\n  */\r\n export class TemplateProxy extends ResourceProxyBase {\r\n    public static NAME: string = \"template\";//必须和excel导出文件一致\r\n\r\n    public constructor() {\r\n        super(TemplateProxy.NAME);\r\n    }\r\n\r\n    /**\r\n     * 获取excel数据\r\n     */\r\n    public getGameData(): JSON {\r\n        return this.getData();\r\n    }\r\n}\r\n","import { GameProxy } from \"../model/proxy/GameProxy\";\r\nimport { TemplateProxy } from \"../model/proxy/TemplateProxy\";\r\n\r\n/**\r\n  * 注册注册proxy\r\n  */\r\nexport class ModelPrepCommand extends puremvc.SimpleCommand implements puremvc.ICommand {\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n  public execute(notification: puremvc.INotification): void {\r\n    //excel数据\r\n    this.facade.registerProxy(new TemplateProxy());\r\n    //游戏其他需要存储数据\r\n    this.facade.registerProxy(new GameProxy());\r\n  }\r\n  \r\n}","import GameConfig from \"../../../GameConfig\";\r\nimport { GameLayerManager } from \"../../manager/GameLayerManager\";\r\n\r\n/**\r\n  * 面板弹出管理类\r\n  */\r\nexport class PopUpManager {\r\n\r\n\tprivate darkSprite: Laya.Sprite;\r\n\tprivate curPanel: any = null;\r\n\tprivate static _instance: PopUpManager = null;\r\n\r\n\tpublic static getInstance(): PopUpManager {\r\n\t\tif (!this._instance) {\r\n\t\t\tthis._instance = new PopUpManager();\r\n\t\t}\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n\t/**\r\n\t* 添加面板方法\r\n\t* panel       \t\t面板\r\n\t* dark        \t\t背景是否变黑\r\n\t* popUpWidth      \t指定弹窗宽度，定位使用\r\n\t* popUpHeight      \t指定弹窗高度，定位使用\r\n\t* effectType        0：没有动画 1:从中间轻微弹出 2：从中间猛烈弹出  3：从左向右 4：从右向左 5、从上到下 6、从下到上\r\n\t*/\r\n\tpublic addPopUp(panel, dark: boolean = false, popUpWidth: number = 0, popUpHeight: number = 0, effectType: number = 0, isAlert: boolean = false): void {\r\n\t\tif (GameLayerManager.gameLayer().panelLayer.contains(panel)) {//判断是否包含panel\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tpanel.scaleX = 1;\r\n\t\tpanel.scaleY = 1;\r\n\t\tpanel.pivot(panel.width / 2, panel.height / 2);\r\n\t\tpanel.x = GameConfig.width / 2;\r\n\t\tpanel.y = GameConfig.height / 2;\r\n\t\tpanel.alpha = 1;\r\n\r\n\t\tif (dark) {\r\n\t\t\tthis.darkSprite = new Laya.Sprite();\r\n\t\t\tthis.darkSprite.graphics.clear();\r\n\t\t\tthis.darkSprite.alpha = 0.5;\r\n\t\t\tthis.darkSprite.graphics.drawRect(0, 0, GameConfig.width, GameConfig.height, 0x000000);\r\n\t\t\tthis.darkSprite.width = GameConfig.width;\r\n\t\t\tthis.darkSprite.height = GameConfig.height;\r\n\t\t\tif (!GameLayerManager.gameLayer().panelLayer.contains(this.darkSprite)) {\r\n\t\t\t\tGameLayerManager.gameLayer().panelLayer.addChild(this.darkSprite);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tGameLayerManager.gameLayer().panelLayer.addChild(panel);\r\n\t\tthis.curPanel = panel;\r\n\t\tswitch (effectType) {\r\n\t\t\tcase 0:\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tpanel.scaleX = 0.5;\r\n\t\t\t\tpanel.scaleY = 0.5;\r\n\t\t\t\tLaya.Tween.to(panel, {scaleX: 1, scaleY: 1 }, 300, Laya.Ease.backOut);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t* 移除面板方法\r\n\t* panel       \t\t面板\r\n\t* effectType        0：没有动画 1:从中间缩小消失 2：  3：从左向右 4：从右向左 5、从上到下 6、从下到上\r\n\t*/\r\n\tpublic removePopUp(panel, effectType: number = 0): void {\r\n\r\n\t\tvar onComplete: Function = function () {\r\n\t\t\tif (GameLayerManager.gameLayer().panelLayer.contains(this.darkSprite)) {\r\n\t\t\t\tGameLayerManager.gameLayer().panelLayer.removeChild(this.darkSprite);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (this.darkSprite) {\r\n\t\t\tLaya.Tween.to(this.darkSprite, { alpha: 0 }, 100, null, Laya.Handler.create(this, onComplete));\r\n\t\t}\r\n\r\n\t\t//以下是弹窗动画\r\n\t\tswitch (effectType) {\r\n\t\t\tcase 0:\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tLaya.Tween.to(panel, { alpha: 0, scaleX: 0, scaleY: 0, x: panel.x + panel.width / 2, y: panel.y + panel.height / 2 }, 300);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tLaya.Tween.to(panel, { x: panel.width }, 500, Laya.Ease.cubicOut);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tLaya.Tween.to(panel, { x: -panel.width }, 500, Laya.Ease.cubicOut);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tLaya.Tween.to(panel, { y: panel.height }, 500, Laya.Ease.cubicOut);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tLaya.Tween.to(panel, { y: -panel.height }, 500, Laya.Ease.cubicOut);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar waitTime = 500;\r\n\t\tif (effectType == 0) {\r\n\t\t\twaitTime = 0;\r\n\t\t}\r\n\t\tlet outNum = setTimeout(() => {\r\n\t\t\tif (GameLayerManager.gameLayer().panelLayer.contains(panel)) {//判断是否包含panel\r\n\t\t\t\tGameLayerManager.gameLayer().panelLayer.removeChild(panel);\r\n\t\t\t}\r\n\t\t\tclearTimeout(outNum);\r\n\t\t}, waitTime);\r\n\t}\r\n\r\n}\r\n\r\n\r\n","import { PopUpManager } from \"./PopUpManager\";\r\n\r\n/**\r\n  * 面板mediator基类\r\n  * todo:面板特效，全屏+非全屏蒙层\r\n  */\r\nexport class BaseMediator extends puremvc.Mediator implements puremvc.IMediator {\r\n\r\n    private isInitialized: Boolean = false;//是否初始化\r\n    private isPopUp: Boolean = false;//是否已经显示\r\n    private ui: Laya.View = null;//UI容器\r\n    public w: number = 0;\r\n    public h: number = 0;\r\n\r\n    public constructor(mediatorName: string = \"\", viewComponent: Object = null) {\r\n        super(mediatorName, viewComponent);\r\n        this.w = 1920;\r\n        this.h = 1080;\r\n    }\r\n\r\n    /**\r\n    * 添加面板方法\r\n    * panel       \t\t面板\r\n    * dark        \t\t背景是否变黑\r\n    * popUpWidth      \t指定弹窗宽度，定位使用\r\n    * popUpHeight      \t指定弹窗高度，定位使用\r\n    * effectType        0：没有动画 1:从中间轻微弹出 2：从中间猛烈弹出  3：从左向右 4：从右向左 5、从上到下 6、从下到上\r\n    */\r\n    public showUI(ui: any, dark: boolean = false, popUpWidth: number = 0, popUpHeight: number = 0, effectType: number = 0, isAlert: boolean = false): void {\r\n        this.ui = ui;\r\n        this.beforShow();\r\n        this.initData();\r\n        this.initUI();\r\n        PopUpManager.getInstance().addPopUp(ui, dark, popUpWidth, popUpHeight, effectType, isAlert);\r\n    }\r\n\r\n\r\n    /**\r\n     * 面板弹出之前处理\r\n     */\r\n    public beforShow(): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 初始化面板ui\r\n     */\r\n    public initUI(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 初始化面板数据\r\n     */\r\n    public initData(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * 移除面板方法\r\n    * panel       \t\t面板\r\n    * effectType        0：没有动画 1:从中间缩小消失 2：  3：从左向右 4：从右向左 5、从上到下 6、从下到上\r\n    */\r\n    public closePanel(effectType: number = 0): void {\r\n        PopUpManager.getInstance().removePopUp(this.ui, effectType);\r\n        this.destroy();\r\n    }\r\n\r\n\r\n    /**\r\n     * 面板关闭后需要销毁的对象\r\n     */\r\n    public destroy(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 面板是否弹出状态\r\n     */\r\n    public getIsPopUp(): Boolean {\r\n        return this.isPopUp;\r\n    }\r\n\r\n\r\n    /**\r\n     * 面板是否初始化完毕\r\n     */\r\n    public getIsInit(): Boolean {\r\n        return this.isInitialized;\r\n    }\r\n\r\n    // 获取面板宽度\r\n    public getWidth(): number {\r\n        return this.ui.width;\r\n    }\r\n\r\n    // 获取面板高度\r\n    public getHeight(): number {\r\n        return this.ui.height;\r\n    }\r\n\r\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\n\r\nexport class ConfirmPanel extends ui.main.ConfirmViewUI {\r\n    constructor() {\r\n        super();\r\n        this.width = 576;\r\n        this.height = 284;\r\n    }\r\n}","import { NoficationConfig } from \"../../../config/NoficationConfig\";\r\nimport { EventManager } from \"../../../manager/EventManager\";\r\nimport { BaseMediator } from \"../BaseMediator\";\r\nimport CommonButton from \"../common/CommonButton\";\r\nimport { ConfirmPanel } from \"../panel/ConfirmPanel\";\r\n\r\n/**\r\n  * 确认面板\r\n  */\r\nexport class ConfirmMediator extends BaseMediator {\r\n    public static NAME: string = \"ConfirmMediator\";\r\n\r\n    public constructor(viewComponent: any = null) {\r\n        super(ConfirmMediator.NAME, viewComponent);\r\n    }\r\n\r\n    public listNotificationInterests(): Array<any> {\r\n        return [\r\n            NoficationConfig.OPEN_CONFIRM,\r\n            NoficationConfig.CLOSE_CONFIRM\r\n        ];\r\n    }\r\n    private confirmPanel: ConfirmPanel = new ConfirmPanel();\r\n    public handleNotification(notification: puremvc.INotification): void {\r\n        var data: any = notification.getBody();\r\n        switch (notification.getName()) {\r\n            case NoficationConfig.OPEN_CONFIRM: {\r\n                //显示角色面板\r\n                this.showUI(this.confirmPanel, true, 0, 0, 1);\r\n                break;\r\n            }\r\n            case NoficationConfig.CLOSE_CONFIRM: {\r\n                this.closeButtonClick();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 初始化面板数据 */\r\n    public initData(): void {\r\n    }\r\n\r\n    /** 初始化面板ui */\r\n    public initUI(): void {\r\n        (this.confirmPanel.btn_cancle as CommonButton).initView(220, 80, \"cancle\", \"dialog/\");\r\n        (this.confirmPanel.btn_yes as CommonButton).initView(226, 80, \"yes\", \"dialog/\");\r\n        (this.confirmPanel.btn_cancle as CommonButton).status = true;\r\n        (this.confirmPanel.btn_yes as CommonButton).status = true;\r\n        (this.confirmPanel.btn_cancle as CommonButton).on(Laya.Event.MOUSE_UP, this, this.closeButtonClick);\r\n        (this.confirmPanel.btn_yes as CommonButton).on(Laya.Event.MOUSE_UP, this, this.startReset);\r\n    }\r\n\r\n    private startReset() {\r\n        EventManager.Emit(\"HOMECITY_STARTRESET\", null);\r\n        this.closeButtonClick();\r\n    }\r\n\r\n    private closeButtonClick(): void {\r\n        (this.confirmPanel.btn_cancle as CommonButton).off(Laya.Event.MOUSE_UP, this, this.closeButtonClick);\r\n        (this.confirmPanel.btn_yes as CommonButton).off(Laya.Event.MOUSE_UP, this, this.startReset);\r\n        this.closePanel(0);\r\n    }\r\n}","import { ui } from \"../../../../ui/layaMaxUI\";\r\n\r\nexport class PlayerGuideView extends ui.main.PlayGuideViewUI {\r\n    constructor() {\r\n        super();\r\n    }\r\n}","import { NoficationConfig } from \"../../../config/NoficationConfig\";\r\nimport { BaseMediator } from \"../BaseMediator\";\r\nimport { PlayerGuideView } from \"../panel/PlayerGuideView\";\r\n\r\n/**\r\n  * 新手引导面板\r\n  */\r\nexport class PlayerGuideMediator extends BaseMediator {\r\n    public static NAME: string = \"PlayerGuideMediator\";\r\n\r\n    public constructor(viewComponent: any = null) {\r\n        super(PlayerGuideMediator.NAME, viewComponent);\r\n    }\r\n\r\n    public listNotificationInterests(): Array<any> {\r\n        return [\r\n            NoficationConfig.OPEN_GUIDE,\r\n            NoficationConfig.CLOSE_GUIDE\r\n        ];\r\n    }\r\n    private guidePanel: PlayerGuideView = new PlayerGuideView();\r\n    public handleNotification(notification: puremvc.INotification): void {\r\n        var data: any = notification.getBody();\r\n        switch (notification.getName()) {\r\n            case NoficationConfig.OPEN_GUIDE: {\r\n                //显示角色面板\r\n                this.showUI(this.guidePanel, false, 0, 0, 0);\r\n                break;\r\n            }\r\n            case NoficationConfig.CLOSE_GUIDE: {\r\n                this.closePanel(0);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private startIndex: number = 0;\r\n    private videoLen: number = 0;\r\n    private curTween: Laya.Tween = null;\r\n    private isTouch: boolean = false;\r\n    /** 初始化面板数据 */\r\n    public initData(): void {\r\n        this.startIndex = 1;\r\n        this.videoLen = 2;\r\n        this.isTouch = false;\r\n    }\r\n\r\n    /** 初始化面板ui */\r\n    public initUI(): void {\r\n        this.initBtnShow();\r\n        this.initPoint();\r\n        this.initVideo();\r\n        this.initAni();\r\n        this.guidePanel.btn_left.on(Laya.Event.MOUSE_UP, this, this.upLeft);\r\n        this.guidePanel.btn_right.on(Laya.Event.MOUSE_UP, this, this.upRight);\r\n        this.guidePanel.btn_left.on(Laya.Event.MOUSE_DOWN, this, this.downLeft);\r\n        this.guidePanel.btn_right.on(Laya.Event.MOUSE_DOWN, this, this.downRight);\r\n        this.guidePanel.btn_close.on(Laya.Event.CLICK, this, this.closeButtonClick);\r\n    }\r\n\r\n    private initBtnShow() {\r\n        if (this.videoLen > 1) {\r\n            this.guidePanel.btn_left.visible = true;\r\n            if (this.startIndex == 1) {\r\n                this.guidePanel.btn_left.visible = false;\r\n                this.guidePanel.btn_right.loadImage(\"guideView/next_normal.png\");\r\n            } else if (this.startIndex == this.videoLen) {\r\n                this.guidePanel.btn_left.loadImage(\"guideView/pre_normal.png\");\r\n                this.guidePanel.btn_right.loadImage(\"guideView/finish_normal.png\");\r\n            } else {\r\n                this.guidePanel.btn_left.loadImage(\"guideView/pre_normal.png\");\r\n                this.guidePanel.btn_right.loadImage(\"guideView/next_normal.png\");\r\n            }\r\n        } else {\r\n            this.guidePanel.btn_left.visible = false;\r\n            this.guidePanel.btn_right.visible = true;\r\n            this.guidePanel.btn_right.loadImage(\"guideView/finish_normal.png\");\r\n        }\r\n    }\r\n\r\n    private initPoint() {\r\n        if (this.guidePanel.box_point.numChildren > 0) {\r\n            for (let i: number = 0; i < this.guidePanel.box_point.numChildren; i++) {\r\n                let img: Laya.Sprite = this.guidePanel.box_point.getChildAt(i) as Laya.Sprite;\r\n                if ((i + 1) == this.startIndex) {\r\n                    img.loadImage(\"guideView/point_yes.png\");\r\n                } else {\r\n                    img.loadImage(\"guideView/point_no.png\");\r\n                }\r\n            }\r\n        } else {\r\n            for (let i: number = 1; i < this.videoLen + 1; i++) {\r\n                let pointImg: Laya.Sprite = Laya.Pool.getItemByClass(\"Sprite\", Laya.Sprite);\r\n                if (i == this.startIndex) {\r\n                    pointImg.loadImage(\"guideView/point_yes.png\");\r\n                } else {\r\n                    pointImg.loadImage(\"guideView/point_no.png\");\r\n                }\r\n                pointImg.x = (i - 1) * 28;\r\n                this.guidePanel.box_point.addChild(pointImg);\r\n            }\r\n        }\r\n    }\r\n\r\n    private initVideo() {\r\n        this.guidePanel.box_gif.loadImage(\"common/gif\" + this.startIndex + \".png\");\r\n    }\r\n\r\n    private initAni() {\r\n        this.guidePanel.panel_content.scale(0, 0);\r\n        this.curTween = Laya.Tween.to(this.guidePanel.panel_content, { scaleX: 1, scaleY: 1 }, 200, Laya.Ease.sineIn);\r\n    }\r\n\r\n    private upLeft() {\r\n        if (!this.isTouch)\r\n            return;\r\n        this.isTouch = false;\r\n        if (this.startIndex == 1) {\r\n            return;\r\n        } else {\r\n            this.startIndex -= 1;\r\n            this.initBtnShow();\r\n            this.initPoint();\r\n            this.initVideo();\r\n        }\r\n    }\r\n\r\n    private upRight() {\r\n        if (!this.isTouch)\r\n            return;\r\n        this.isTouch = false;\r\n        if (this.startIndex + 1 > this.videoLen) {\r\n            this.closeButtonClick();\r\n        } else {\r\n            this.startIndex += 1;\r\n            this.initBtnShow();\r\n            this.initPoint();\r\n            this.initVideo();\r\n        }\r\n    }\r\n\r\n    private downLeft() {\r\n        this.isTouch = true;\r\n        this.guidePanel.btn_left.loadImage(\"guideView/pre_down.png\");\r\n    }\r\n\r\n    private downRight() {\r\n        this.isTouch = true;\r\n        if (this.startIndex == this.videoLen) {\r\n            this.guidePanel.btn_right.loadImage(\"guideView/finish_down.png\");\r\n        } else {\r\n            this.guidePanel.btn_right.loadImage(\"guideView/next_down.png\");\r\n        }\r\n    }\r\n\r\n\r\n    private closeButtonClick(): void {\r\n        Laya.Tween.clear(this.curTween);\r\n        Laya.Pool.recover(\"Sprite\", Laya.Sprite);\r\n        this.guidePanel.btn_left.off(Laya.Event.MOUSE_UP, this, this.upLeft);\r\n        this.guidePanel.btn_right.off(Laya.Event.MOUSE_UP, this, this.upRight);\r\n        this.guidePanel.btn_left.off(Laya.Event.MOUSE_DOWN, this, this.downLeft);\r\n        this.guidePanel.btn_right.off(Laya.Event.MOUSE_DOWN, this, this.downRight);\r\n        this.guidePanel.btn_close.off(Laya.Event.CLICK, this, this.closeButtonClick);\r\n        this.closePanel(0);\r\n    }\r\n}","import { GameLayerManager } from \"../../manager/GameLayerManager\";\r\nimport { ConfirmMediator } from \"../view/mediator/ConfirmMediator\";\r\nimport { PlayerGuideMediator } from \"../view/mediator/PlayerGuideMediator\";\r\n\r\n/**\r\n  * 注册mediator\r\n  */\r\nexport class ViewPrepCommand extends puremvc.SimpleCommand implements puremvc.ICommand {\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n  public execute(notification: puremvc.INotification): void {\r\n    this.facade.registerMediator(new ConfirmMediator());\r\n    this.facade.registerMediator(new PlayerGuideMediator());\r\n  }\r\n}","import { ControllerPrepCommand } from \"./ControllerPrepCommand\";\r\nimport { ModelPrepCommand } from \"./ModelPrepCommand\";\r\nimport {ViewPrepCommand} from \"./ViewPrepCommand\";\r\n\r\n/**\r\n  * 初始化mvc controller\r\n  */\r\nexport class StartupCommand extends puremvc.MacroCommand {\r\n\r\n\tpublic constructor() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic initializeMacroCommand(): void {\r\n\t\tthis.addSubCommand(ControllerPrepCommand);\r\n\t\tthis.addSubCommand(ModelPrepCommand);\r\n\t\tthis.addSubCommand(ViewPrepCommand);\r\n\t}\r\n}","import { StartupCommand } from \"./controller/StartupCommand\";\r\n\r\nexport class AppFacade extends puremvc.Facade implements puremvc.IFacade {\r\n\r\n\tpublic constructor() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic static STARTUP: string = \"startup\";\r\n\r\n\tpublic static getInstance(): AppFacade {\r\n\t\tif (this.instance == null) this.instance = new AppFacade();\r\n\t\treturn <AppFacade><any>(this.instance);\r\n\t}\r\n\r\n\tpublic initializeController(): void {\r\n\t\tsuper.initializeController();\r\n\t\tthis.registerCommand(AppFacade.STARTUP, StartupCommand);\r\n\t}\r\n\r\n\t/**\r\n\t * 启动PureMVC，在应用程序中调用此方法，并传递应用程序本身的引用\r\n\t * @param\trootView\t-\tPureMVC应用程序的根视图root，包含其它所有的View Componet\r\n\t */\r\n\tpublic startUp(rootView: Laya.View): void {\r\n\t\tthis.sendNotification(AppFacade.STARTUP, rootView);\r\n\t\tthis.removeCommand(AppFacade.STARTUP); //PureMVC初始化完成，注销STARUP命令\r\n\t}\r\n}","import GameConfig from \"./GameConfig\";\r\nimport { NoficationConfig } from \"./script/config/NoficationConfig\";\r\nimport { AppFacade } from \"./script/core/AppFacade\";\r\nimport { GameLayerManager } from \"./script/manager/GameLayerManager\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\r\n\t\tif (window[\"Laya3D\"])\r\n\t\t\tLaya3D.init(GameConfig.width, GameConfig.height, null, Laya.Handler.create(this, this.initMain));\r\n\t\telse {\r\n\t\t\tLaya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\t\tLaya.stage.bgColor = \"#D3F7FE\";\r\n\t\t\tthis.initMain();\r\n\t\t}\r\n\t}\r\n\r\n\tinitMain() {\r\n\t\twindow[\"gameLoading\"].show();\r\n\t\tLaya.stage.addChild(GameLayerManager.gameLayer());\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\t// Laya.alertGlobalError(true);\r\n\r\n\t\tvar sourceArr: Array<any> = [\r\n\t\t\t{ url: \"common/common_bg1.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/common_bg2.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/common_bg3.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/maskBg.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/guide_bg.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/gif1.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"common/gif2.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"dialog/dialogbg.png\", type: Laya.Loader.IMAGE },\r\n\t\t\t{ url: \"res/data/initData.json\", type: Laya.Loader.JSON },\r\n\t\t\t{ url: \"font/FZLTCHJW.ttf\", type: Laya.Loader.TTF }\r\n\t\t];\r\n\t\tLaya.loader.load(sourceArr, Laya.Handler.create(this, this.onLoaded), Laya.Handler.create(this, this.onProgress, null, false));\r\n\r\n\t}\r\n\r\n\tonProgress(pre: number): void {\r\n\t\twindow[\"gameLoading\"].setProgress(pre);\r\n\t}\r\n\r\n\tonLoaded(): void {\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\tAppFacade.getInstance().startUp(GameLayerManager.gameLayer());\r\n\t\tAppFacade.getInstance().sendNotification(NoficationConfig.OPEN_HOME);\r\n\t\tAppFacade.getInstance().sendNotification(NoficationConfig.OPEN_GUIDE);\r\n\t\twindow[\"gameLoading\"].remove();\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}